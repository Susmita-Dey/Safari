const stateData = {
  Kerala: {
    photo: "Assets/images/kerala.jpg",
    questions: {
      ques1: {
        text: "On which coast Kerala is located?",
        options: ['Karavali', 'Malabar coast', 'Konkan'],
        correct: "Malabar coast",
      },
      ques2: {
        text: "It is considered among the “50 must-see destinations of a lifetime",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "Kera in Kerala means",
        options: ['Coconut', 'Palm', 'Beach'],
        correct: "Coconut",
      },
    },
  },
  Tamil_Nadu: {
    photo: "Assets/images/tamil_nadu.jpg",
    questions: {
      ques1: {
        text: "What is the capital of Tamil Nadu?",
        options: ['Chennai', 'Bangalore', 'Kanyakumari'],
        correct: "Chennai",
      },
      ques2: {
        text: "What is the former name of Chennai?",
        options: ['Madras', 'Mysore', 'Katappa'],
        correct: "Madras",
      },
      ques3: {
        text: "Which festival is widely celebrated in Tamil Nadu?",
        options: ['Pongal', 'Halloween', 'Baisakhi'],
        correct: "Pongal",
      },
    },
  },
  Andaman_Nicobar: {
    photo: "Assets/images/andaman_nicobar.jpeg",
    questions: {
      ques1: {
        text: "What is the capital of Andaman and Nicobar Islands?",
        options: ['Port Blair', 'Leh', 'Puducherry'],
        correct: "Port Blair",
      },
      ques2: {
        text: "Which is the most important and oldest traditional dance of the islands?",
        options: ['Nicobari Dance', 'Kathak', 'Hip Hop'],
        correct: "Nicobari Dance",
      },
      ques3: {
        text: "A small part of the islands belong to which country?",
        options: ['Nepal', 'Bhutan', 'Mayanmar'],
        correct: "Mayanmar",
      },
    },
  },
  Puducherry: {
    photo: "Assets/images/puducherry.jpg",
    questions: {
      ques1: {
        text: "What is the former name of Puducherry?",
        options: ['Pondicherry', 'Cherry', 'Ponducherry'],
        correct: "Pondicherry",
      },
      ques2: {
        text: "Puducherry gives the glimpse of which country?",
        options: ['France', 'Italy', 'Switzerland'],
        correct: "France",
      },
      ques3: {
        text: "Which international language is spoken by the people of Puducherry?",
        options: ['French', 'Spanish', 'Arabic'],
        correct: "French",
      },
    },
  },
  Andhra_Pradesh: {
    photo: "Assets/images/andhra_pradesh.jpg",
    questions: {
      ques1: {
        text: "How many capitals does Andhra Pradesh have?",
        options: [4, 3, 1],
        correct: 3,
      },
      ques2: {
        text: "Which is the official language spoken by natives in Andhra Pradesh?",
        options: ['Tamil', 'Hindi', 'Telugu'],
        correct: "Telugu",
      },
      ques3: {
        text: "Which mine is a very traditional place of the state?",
        options: ['Golconda', 'Anaconda', 'Ratnagiri'],
        correct: "Golconda",
      },
    },
  },
  Karnataka: {
    photo: "Assets/images/karnataka.jpg",
    questions: {
      ques1: {
        text: "Karnataka is bordered by which sea?",
        options: ['Arabian Sea', 'Caspian Sea', 'Red Sea'],
        correct: "Arabian Sea",
      },
      ques2: {
        text: "Karnataka was originally known as",
        options: ['Masoori', 'Mysore', 'Karna'],
        correct: "Mysore",
      },
      ques3: {
        text: "Which city in Karnataka is known as the silicon valley of India?",
        options: ['Bangalore', 'Mangaluru', 'Udupi'],
        correct: "Bangalore",
      },
    },
  },
  Lakshadweep: {
    photo: "Assets/images/lakshadweep.jpg",
    questions: {
      ques1: {
        text: "What is the capital of Lakshwadeep?",
        options: ['Kavaratti', 'Puducherry', 'Gangtok'],
        correct: "Kavaratti",
      },
      ques2: {
        text: "Lakshadweep was carved out from which city?",
        options: ['Madras', 'Bangalore', 'Visakhapatnam'],
        correct: "Madras",
      },
      ques3: {
        text: "People of Lakshwadeep speak in which language?",
        options: ['Malayalam', 'Kannada', 'Arabic'],
        correct: "Malayalam",
      },
    },
  },
  Goa: {
    photo: "Assets/images/goa.jpg",
    questions: {
      ques1: {
        text: "Goa is also fondly known as the",
        options: ['Rome of the East', 'Rome of the West', 'Rome of the India'],
        correct: "Rome of the East",
      },
      ques2: {
        text: "The staple food of Goa is:",
        options: ['staple is the combination of fish curry and rice', 'staple is the combination of sarso ka saag and makke ki roti', 'staple is the combination of chicken curry and rice'],
        correct: "staple is the combination of fish curry and rice",
      },
      ques3: {
        text: "The most common occupation of locals is",
        options: ['Fishing', 'Harvesting', 'Growing cotton'],
        correct: "Fishing",
      },
    },
  },
  Telangana: {
    photo: "Assets/images/telangana.jpg",
    questions: {
      ques1: {
        text: "What is the capital of Telangana?",
        options: ['Hyderabad', 'Ramagundam', 'Nizamabad'],
        correct: "Hyderabad",
      },
      ques2: {
        text: "Telangana is carved out from which state?",
        options: ['Andhra Pradesh', 'Arunachal Pradesh', 'Tamil Nadu'],
        correct: "Andhra Pradesh",
      },
      ques3: {
        text: "Which popular actress was born in Hyderabad?",
        options: ['Dia Mirza', 'Katrina Kaif', 'Rani  Mukherji'],
        correct: "Dia Mirza",
      },
    },
  },
  Odisha: {
    photo: "Assets/images/odisha.jpg",
    questions: {
      ques1: {
        text: "Odisha borders which state?",
        options: ['West Bengal', 'Kerala', 'Uttrakhand'],
        correct: "West Bengal",
      },
      ques2: {
        text: "What is the capital of Odisha?",
        options: ['Bhubaneshwar', 'Kolkata', 'Rai Bareilly'],
        correct: "Bhubaneshwar",
      },
      ques3: {
        text: "Is Telugu spoken in Odisha?",
        options: ['Yes', 'No'],
        correct: "Yes",
      },
    },
  },
  Chhattisgarh: {
    photo: "Assets/images/chhattisgarh.jpg",
    questions: {
      ques1: {
        text: "What does Chattisgarh mean?",
        options: ['36 forts', '36 cows', '36 kings'],
        correct: "36 forts",
      },
      ques2: {
        text: "Which is the capital of Chattisgarh?",
        options: ['Ranchi', 'Raipur', 'Rampur'],
        correct: "Raipur",
      },
      ques3: {
        text: "The state is called a rice bowl because of the rich paddy crop",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },
  Maharashtra: {
    photo: "Assets/images/mumbai.jpg",
    questions: {
      ques1: {
        text: "Most famous festival in Maharashtra",
        options: ['Ganesh Chaturthi', 'Chatta Pooja', 'Durga Pooja'],
        correct: "Ganesh Chaturthi",
      },
      ques2: {
        text: "Which ruler holds the highest place in Maratha history?",
        options: ['Maharana Pratap', 'Shivaji', 'Shah Jahan'],
        correct: "Shivaji",
      },
      ques3: {
        text: "Go-to food of Mumbai",
        options: ['Pav Bhaji', 'Masala Dosa', 'Momos'],
        correct: "Pav Bhaji",
      },
    },
  },
  Daman_Diu: {
    photo: "Assets/images/daman_and_diu.jpeg",
    questions: {
      ques1: {
        text: "Mostly people converse in which language?",
        options: ['Gujarati', 'Bengali', 'Kannada'],
        correct: "Gujarati",
      },
      ques2: {
        text: "The people tend to follow the mix of Gujarati and Portugese culture",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "Diu is located near which port?",
        options: ['.Mumbai Port', 'Gujarat port', 'Veraval port'],
        correct: "Veraval port",
      },
    },
  },
  Gujarat: {
    photo: "Assets/images/gujarat.jpg",
    questions: {
      ques1: {
        text: "One of the famous Gujarati dishes",
        options: ['Samosa', 'Dhokla', 'Noodles'],
        correct: "Dhokla",
      },
      ques2: {
        text: "Which famous Indian freedom fighter hailed from Gujarat?",
        options: ['Mohandas Karamchand Gandhi', 'Jawahar Lal Nehru', 'BR Ambedkar'],
        correct: "Mohandas Karamchand Gandhi",
      },
      ques3: {
        text: "Gujarat is also called as “Jewel of Western India” ",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },
  Rajasthan: {
    photo: "Assets/images/rajasthan.jpg",
    questions: {
      ques1: {
        text: "Which city in Rajasthan is known as the pink city?",
        options: ['Jodhpur', 'Udaipur', 'Jaipur'],
        correct: "Jaipur",
      },
      ques2: {
        text: "Which dance of Rajashthan is famous world wide?",
        options: ['Ghoomar dance', 'Jhoomar dance', 'Gidda'],
        correct: "Ghoomar dance",
      },
      ques3: {
        text: "The dominant population of Rajasthan is",
        options: ['Jatts', 'Rajputs', 'Gujars'],
        correct: "Rajputs",
      },
    },
  },
  Madhya_Pradesh: {
    photo: "Assets/images/madhya_pradesh.jpg",
    questions: {
      ques1: {
        text: "Which city in MP is called 'Meat Lovers Paradise'?",
        options: ['Bhopal', 'Ujjain', 'Indore'],
        correct: "Bhopal",
      },
      ques2: {
        text: "Madhya Pradesh is called the 'Heart of India'.",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "MP is the largest in terms of area",
        options: ['True', 'False'],
        correct: "False",
      },
    },
  },
  Jharkhand: {
    photo: "Assets/images/jharkhand.jpg",
    questions: {
      ques1: {
        text: "Which is the largest industrial city in Jharkhand?",
        options: ['Dhamka', 'Jamshedpur', 'Hazaribagh'],
        correct: "Jamshedpur",
      },
      ques2: {
        text: "Which is the sub-capital of the state?",
        options: ['Ranchi', 'Dhamka', 'Jamshedpur'],
        correct: "Dhamka",
      },
      ques3: {
        text: "Jharkhand is one of the richest regions of India in mineral resources",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },
  West_Bengal: {
    photo: "Assets/images/west_bengal.jpg",
    questions: {
      ques1: {
        text: "What is the capital of West Bengal?",
        options: ['Kolkata', 'Dhaka', 'Kharagpur'],
        correct: "Kolkata",
      },
      ques2: {
        text: "Which is the widely spoken language of the state?",
        options: ['Bengali', 'Marathi', 'Hindi'],
        correct: "Bengali",
      },
      ques3: {
        text: "Which is the most popular festival of West Bengal?",
        options: ['Chath pooja', 'Durga pooja', 'Ganesh chaturthi'],
        correct: "Durga pooja",
      },
    },
  },
  Tripura: {
    photo: "Assets/images/tripura.jpg",
    questions: {
      ques1: {
        text: "Tripura is one of the third smallest states of India",
        options: ['True', 'False'],
        correct: "True",
      },
      ques2: {
        text: "How many districts are there in Tripura?",
        options: [4, 8, 25],
        correct: 8,
      },
      ques3: {
        text: "What does Tripura mean?",
        options: ['Near water', 'Near god', 'Near land'],
        correct: "Near water",
      },
    },
  },
  Mizoram: {
    photo: "Assets/images/mizoram.jpg",
    questions: {
      ques1: {
        text: "Which is the main religion in Mizoram?",
        options: ['Sikhism', 'Christianity', 'Judaism'],
        correct: "Christianity",
      },
      ques2: {
        text: "Mizoram is also part of the Seven Sisters groups",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "What is the main language of Mizoram?",
        options: ['Mizo', 'Urdu', 'English'],
        correct: "Mizo",
      },
    },
  },
  Manipur: {
    photo: "Assets/images/manipur.jpg",
    questions: {
      ques1: {
        text: "It is the birthplace of polo, the sport",
        options: ['True', 'False'],
        correct: "True",
      },
      ques2: {
        text: "It is the birthplace of which classical dance form.?",
        options: ['Ram lila', 'Ras lila', 'Bharat natyam'],
        correct: "Ras lila",
      },
      ques3: {
        text: "What is the Manipuri Language Known as?",
        options: ['Miti Language', 'Manipuri', 'Imphali'],
        correct: "Miti Language",
      },
    },
  },
  Nagaland: {
    photo: "Assets/images/nagaland.jpg",
    questions: {
      ques1: {
        text: "Most popular festival organized by the state government",
        options: ['Hornbill festival', 'Falcon festival', 'Festival of boats'],
        correct: "Hornbill festival",
      },
      ques2: {
        text: "Nagaland is the home of Bhut Jolokia, one of the spiciest chillies in the world.",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "Nagaland is known as the Falcon Capital of the World",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },
  Arunachal_Pradesh: {
    photo: "Assets/images/arunachal-pradesh.jpg",
    questions: {
      ques1: {
        text: "What is Arunachal Pradesh known as?",
        options: ['The Land of Dawnlit', 'The Land of Mountains', 'The Land of Flaura and Fauna'],
        correct: "The Land of Dawnlit",
      },
      ques2: {
        text: "One of the prominent festivals of Arunachal Pradesh",
        options: ['Pongal', 'Halloween', 'Losar'],
        correct: "Losar",
      },
      ques3: {
        text: "Which is the main occupation of Arunachal Pradesh's people?",
        options: ['Agriculture', 'Embroidery Business', 'Auto Mechanics'],
        correct: "Agriculture",
      },
    },
  },
  Assam: {
    photo: "Assets/images/assam.jpg",
    questions: {
      ques1: {
        text: "Assam is not one of the Eight Sister states of northeastern India",
        options: ['True', 'False'],
        correct: "False",
      },
      ques2: {
        text: "The most famous festival of Assam",
        options: ['Bihu', 'Pihu', 'Pongal'],
        correct: "Bihu",
      },
      ques3: {
        text: "Assam is well known for which plantations all over the world",
        options: ['Rice', 'Tea', 'Cotton'],
        correct: "Tea",
      },
    },
  },
  Meghalaya: {
    photo: "Assets/images/meghalaya.jpg",
    questions: {
      ques1: {
        text: "What does Meghalaya mean?",
        options: ['The abode of Gods', 'The abode of divine ', 'The abode of clouds'],
        correct: "The abode of Gods",
      },
      ques2: {
        text: "What is the capital of Meghalaya?",
        options: ['Shillong', 'Aizwal', 'Kohima'],
        correct: "Shillong",
      },
      ques3: {
        text: "The main food of the residents here",
        options: ['Rice and dried fish', 'Rice and Roti', 'Roti with ghee'],
        correct: "Rice and dried fish",
      },
    },
  },
  Sikkim: {
    photo: "Assets/images/sikkim.jpg",
    questions: {
      ques1: {
        text: "What is the capital of Sikkim?",
        options: ['Gangtok', 'Sikkim city', 'Aizawal'],
        correct: "Gangtok",
      },
      ques2: {
        text: "Sikkim borders which country",
        options: ['Bhutan', 'China', 'Both of them'],
        correct: "Both of them",
      },
      ques3: {
        text: "Sikkim state has the lowest population in the country",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },
  Bihar: {
    photo: "Assets/images/bihar.jpg",
    questions: {
      ques1: {
        text: "One of the widely spoken languages of  Bihar:",
        options: ['Bhojpuri', 'French', 'Telugu'],
        correct: "Bhojpuri",
      },
      ques2: {
        text: "Which dynasty ruled this area for a considerable time?",
        options: ['Humayun Dynasty', 'Maurya and Gupta Dynasty', 'Shah Mir Dynasty'],
        correct: "Maurya and Gupta Dynasty",
      },
      ques3: {
        text: "The main festival of Bihar is",
        options: ['Chhath Puja', 'Durga Puja', 'Ganesh Chaturthi'],
        correct: "Chhath Puja",
      },
    },
  },
  Uttar_Pradesh: {
    photo: "Assets/images/uttar_pradesh.jpeg",
    questions: {
      ques1: {
        text: "What is the capital of Uttar Pradesh?",
        options: ['Lucknow', 'Prayagraj', 'Aligarh'],
        correct: "Lucknow",
      },
      ques2: {
        text: "Taj Mahal is situated in which city",
        options: ['Bareilly', 'Agra', 'Ghaziabad'],
        correct: "Agra",
      },
      ques3: {
        text: "Uttar Pradesh is the most populous state in India",
        options: ['True', 'False'],
        correct: "True",
      },
    },
  },

  Uttarakhand: {
    photo: "Assets/images/uttarakhand.jpg",
    questions: {
      ques1: {
        text: "What is the capital of Uttrakhand",
        options: ['Dehradun', 'Darjeeling', 'Bilaspur'],
        correct: "Dehradun",
      },
      ques2: {
        text: "Which is the most spoken language that originates from hindi?",
        options: ['Garhwali', 'Pahadi', 'Urdu'],
        correct: "Garhwali",
      },
      ques3: {
        text: "Which country borders Uttrakhand?",
        options: ['Nepal', 'China', 'Bangladesh'],
        correct: "Nepal",
      },
    },
  },
  Haryana: {
    photo: "Assets/images/haryana.jpg",
    questions: {
      ques1: {
        text: "Haryana is also known as The Home of Gods",
        options: ['True', 'False'],
        correct: "True",
      },
      ques2: {
        text: "Which is the traditional headgear for men?",
        options: ['Pagri', 'Topi', 'Hat'],
        correct: "Pagri",
      },
      ques3: {
        text: "On which day Haryana Day is observed?",
        options: ['1st November', '31st January', '29th February'],
        correct: "1st November",
      },
    },
  },
  Delhi: {
    photo: "Assets/images/delhi.jpg",
    questions: {
      ques1: {
        text: "Which famous historical monument is in Delhi?",
        options: ['Taj Mahal', 'Qutub Minar', 'Hawa Mahal'],
        correct: "Qutub Minar",
      },
      ques2: {
        text: "What was the capital of India before Delhi?",
        options: ['Kolkata', 'Mumbai', 'Hyderabad'],
        correct: "Kolkata",
      },
      ques3: {
        text: "Delhi has only been India’s capital since",
        options: [1911, 1947, 2000],
        correct: 1911,
      },
    },
  },
  Punjab: {
    photo: "Assets/images/punjab.jpg",
    questions: {
      ques1: {
        text: "What does Punjab mean?",
        options: ['The land of five rivers', 'The land of five lords', 'The land of sikhs'],
        correct: "The land of five rivers",
      },
      ques2: {
        text: "Which is Punjab's famous dance ?",
        options: ['Bhangra', 'Katha Kali', 'Hip Hop'],
        correct: "Bhangra",
      },
      ques3: {
        text: "Golden Temple is located in which city of Punjab?",
        options: ['Chandigarh', 'Amritsar', 'Patiala'],
        correct: "Amritsar",
      },
    },
  },
  Himachal_Pradesh: {
    photo: "Assets/images/himachal_pradesh.jpg",
    questions: {
      ques1: {
        text: "What does Himachal literally mean?",
        options: ['Lap of snow-covered mountains', 'Lap of streams', 'Lap of white mountains'],
        correct: "Lap of snow-covered mountains",
      },
      ques2: {
        text: "Which is the third smoke free city of India in Himachal Pradesh?",
        options: ['Shimla', 'Kullu', 'Manali'],
        correct: "Shimla",
      },
      ques3: {
        text: "The people of Himachal Pradesh mostly wear which kind of clothes",
        options: ['woollen', 'silk', 'cotton'],
        correct: "woollen",
      },
    },
  },
  Jammu_Kashmir: {
    photo: "Assets/images/kashmir.jpg",
    questions: {
      ques1: {
        text: "What is the capital of J&K in summers?",
        options: ['Srinagar', 'Baramulla', 'Pahalgam'],
        correct: "Srinagar",
      },
      ques2: {
        text: "It is called the Switzerland of India",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "What is the capital of J&K in winters?",
        options: ['Gulmarg', 'Jammu', 'Islamabad'],
        correct: "Malayalam",
      },
    },
  },
  Ladakh: {
    photo: "Assets/images/ladakh.jpeg",
    questions: {
      ques1: {
        text: "What is the capital of Ladakh?",
        options: ['Leh', 'Sonmarg', 'Baramulla'],
        correct: "Leh",
      },
      ques2: {
        text: "leh-Ladakh is often called 'Little Tibet' or 'Land of the Broken Moon'.",
        options: ['True', 'False'],
        correct: "True",
      },
      ques3: {
        text: "Ladakh borders which country?",
        options: ['China', 'Bangladesh', 'Mayanmar'],
        correct: "China",
      },
    },
  },
};

function StateCard() {
  /**
   * This is a factory function same like class,
   * It is use to create states cards, all the property & methods
   * of cards are stored inside this.
   */
  const drawCard = (stateName, stateImg, stateCardId) => {
    /**
     * This will create a card element
     * It will take a name, image
     * Then assign classes and return the card.
     */
    const cardClasses = [
      "w-36",
      "rounded",
      "bg-blue-100",
      "overflow-hidden",
      "shadow-lg",
      "relative",
      "flex-auto",
    ];
    const card = document.createElement("div");
    card.classList.add(...cardClasses);

    const imgClasses = ["w-full", "h-[90px]"];
    const img = document.createElement("img");
    img.src = stateImg;
    img.classList.add(...imgClasses);

    const nameClasses = ["flex", "justify-center"];
    const name = document.createElement("div");
    name.textContent = stateName;
    name.classList.add(...nameClasses);

    card.setAttribute("data-id", stateCardId);

    card.append(img, name);

    return card;
  };

  return { drawCard };
}

function BonusAndTrapCard() {
  /**
   * This is the factory same like classes
   * It is for creating the bonus and trap cards
   * All the properties and methods of these cards will be
   * store here.
   */

  const drawBonusCard = (bonusCardId) => {
    const cardClasses = [
      "w-36",
      "rounded",
      "overflow-hidden",
      "bg-green-100",
      "shadow-lg",
      "flex",
      "justify-center",
      "items-center",
      "border-2",
      "border-green-400",
      "border-solid",
      "relative",
      "flex-auto",
    ];
    const card = document.createElement("div");
    card.classList.add(...cardClasses);
    card.textContent = "Bonus";
    card.setAttribute("data-id", bonusCardId);

    return card;
  };

  const drawTrapCard = (trapCardId) => {
    const cardClasses = [
      "w-36",
      "rounded",

      "overflow-hidden",
      "shadow-lg",
      "flex",
      "justify-center",
      "items-center",
      "border-2",
      "border-red-400",
      "bg-red-100",
      "border-solid",
      "relative",
      "flex-auto",
    ];
    const card = document.createElement("div");
    card.classList.add(...cardClasses);
    card.textContent = "Trap";
    card.setAttribute("data-id", trapCardId);

    return card;
  };

  return { drawBonusCard, drawTrapCard };
}

function Dice() {
  let sides = 6;

  const roll = () => {
    let randomNumber = Math.floor(Math.random() * sides) + 1;
    return randomNumber;
  };

  //Prints dice roll to the page
  const printNumber = (number) => {
    var placeholder = document.getElementById("placeholder");
    placeholder.textContent = number;
  };

  return { roll, printNumber };
}

function Player(bgColor, posTop, posLeft) {
  let currentPosition = 1;
  let playerId = "";
  // Will get the first card from the board
  let currentParentElement = "";

  const drawPlayer = () => {
    currentParentElement = document.querySelector(
      `[data-id="${currentPosition}"]`
    );
    const playerDivClasses = [
      "h-[36px]",
      "w-[36px]",
      "rounded-full",
      `bg-[${bgColor}]`,
      "absolute",
      `top-[${posTop}]`,
      `left-[${posLeft}]`,
    ];
    const playerDiv = document.createElement("div");

    playerDiv.classList.add(...playerDivClasses);
    playerDiv.setAttribute("data-player-id", playerId);

    currentParentElement.appendChild(playerDiv);
  };

  const move = (newStepsToMove, idOfPlayer) => {
    // First removed the the player from the current card element
    removePlayer(currentParentElement, idOfPlayer);
    // Updating the positon as per dice
    let nextPositon = currentPosition + newStepsToMove;
    currentPosition = nextPositon;
    // Also changing the current card to the next state
    currentParentElement = document.querySelector(
      `[data-id="${currentPosition}"]`
    );
    // drawing the player again
    drawPlayer();
  };

  const removePlayer = (parentElm, idOfPlayer) => {
    // Find out the player inside the parent card
    let playerDivElm = document.querySelector(
      `[data-player-id="${idOfPlayer}"]`
    );
    parentElm.removeChild(playerDivElm);
    // playerDivElm.remove();
  };

  const getPlayerId = () => {
    return playerId;
  };

  const setPlayerId = (id) => {
    playerId = id;
  };

  const printValues = () => {
    console.log("playerId: " + playerId);
    console.log("currentPosition: " + currentPosition);
    console.log("currentParentElement: " + currentParentElement.outerHTML);
  };

  return {
    drawPlayer,
    move,
    removePlayer,
    playerId: getPlayerId,
    printValues,
    setPlayerId,
  };
}

const ID = function() {
  // Math.random should be unique because of its seeding algorithm.
  // Convert it to base 36 (numbers + letters), and grab the first 9 characters
  // after the decimal.
  return "_" + Math.random().toString(36).substr(2, 9);
};

function mainGameController() {
  // Dice object
  const myDice = Dice();
  let diceBtn = document.querySelector(".dice-btn");

  // Player object
  const playerOne = Player("blue", "10px", "10px");
  playerOne.setPlayerId(ID());
  const playerTwo = Player("orange", "10px", "80px");
  playerTwo.setPlayerId(ID());
  let currentPlayer = playerOne;

  diceBtn.addEventListener("click", () => {
    let result = myDice.roll();
    myDice.printNumber(result);
    currentPlayer.printValues();
    currentPlayer.move(result, currentPlayer.playerId());
    currentPlayer.printValues();
    // It will just swith the players
    currentPlayer = swtichPlayer();
  });

  const swtichPlayer = () => {
    if (currentPlayer === playerOne) {
      currentPlayer = playerTwo;
    } else {
      currentPlayer = playerOne;
    }
    return currentPlayer;
  };

  function renderBoard() {
    /**
     * Render the cards, dice when the game starts
     */
    const totalCards = 42;
    const gameBoard = document.querySelector(".game-board");

    let stateCardCounter = 0;
    // let stateId = 42;
    const bonusTrapCardObj = BonusAndTrapCard();
    for (let i = 6; i >= 1; i--) {
      for (let j = 0; j < 7; j++) {
        if (
          (i === 6 && j === 1) ||
          (i === 4 && j === 2) ||
          (i === 3 && j === 1) ||
          (i === 2 && j === 4)
        ) {
          const row = document.querySelector(
            `[data-row-position="${i}"]`
          );
          row.append(bonusTrapCardObj.drawTrapCard(`${i * 7 - j}`));
        } else if (
          (i === 5 && j === 4) ||
          (i === 1 && j === 4) ||
          (i === 3 && j === 5)
        ) {
          const row = document.querySelector(
            `[data-row-position="${i}"]`
          );
          row.append(bonusTrapCardObj.drawBonusCard(`${i * 7 - j}`));
        } else {
          const row = document.querySelector(
            `[data-row-position="${i}"]`
          );
          const StateCardObj = StateCard();
          let stateName = Object.keys(stateData)[stateCardCounter];
          let statePhoto = stateData[stateName].photo;
          let card = StateCardObj.drawCard(
            stateName,
            statePhoto,
            `${i * 7 - j}`
          );
          row.append(card);
          stateCardCounter++;
        }
      }
    }

    playerOne.drawPlayer();
    playerTwo.drawPlayer();
  }

  return { renderBoard };
}

const myGame = mainGameController();
myGame.renderBoard();
